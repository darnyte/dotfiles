#!/usr/bin/env bash

# XVim, what's GVim again? :)
#
# @param ... - files to open
xvim()
{
	# using $@ directly doesn't work for more than one file
	local F=$@

	if [[ `vim --serverlist` == *XVIM* ]]
	then
		vim --servername xvim --remote ${F[*]}
	else
		# set up your styles in .Xdefaults for xvim*
		xterm \
			-name xvim \
			-class xvim \
			-e "vim --servername xvim ${F[*]}" &
	fi &>/dev/null
}

if type xterm &>/dev/null &&
	type vim &>/dev/null &&
	vim --version | grep '+clientserver' &>/dev/null
then
	xvim "$@"
else
	echo "sorry, this system can't run xvim" >&2
fi
